<div class="m-3">
  <h5>Edição de produtos</h5>
  <p>Utilize o formulário para alterar os dados do produto.</p>
  <hr />

  <div class="mb-2">
    <strong>{{ mensagem }}</strong>
  </div>

  <form [formGroup]="formEdicao" (ngSubmit)="onSubmit()">
    <!-- campo oculto -->
    <input type="hidden" formControlName="id" />

    <div class="row mb-2">
      <div class="col">
        <label>Nome do produto:</label>
        <input type="text" class="form-control" formControlName="nome" />
        <div *ngIf="form.nome.touched && form.nome.invalid" class="text-danger">
          <div *ngIf="form.nome.errors.required">
            Por favor, informe o nome do produto.
          </div>
          <div *ngIf="form.nome.errors.minlength">
            Por favor, informe no mínimo 8 caracteres.
          </div>
        </div>
      </div>
      <div class="col">
        <label>Preço do produto:</label>
        <input type="text" class="form-control" formControlName="preco" />
        <div
          *ngIf="form.preco.touched && form.preco.invalid"
          class="text-danger"
        >
          <div *ngIf="form.preco.errors.required">
            Por favor, informe o preço do produto.
          </div>
          <div *ngIf="form.preco.errors.min">
            Por favor, informe um preço maior ou igual a 1.
          </div>
        </div>
      </div>
      <div class="col">
        <label>Quantidade do produto:</label>
        <input
          type="number"
          min="0"
          class="form-control"
          formControlName="quantidade"
        />
        <div
          *ngIf="form.quantidade.touched && form.quantidade.invalid"
          class="text-danger"
        >
          <div *ngIf="form.quantidade.errors.required">
            Por favor, informe a quantidade do produto.
          </div>
          <div *ngIf="form.quantidade.errors.min">
            Por favor, informe uma quantidade maior ou igual a 1.
          </div>
        </div>
      </div>
    </div>

    <div class="row mb-2">
      <div class="col">
        <input
          type="submit"
          [disabled]="!formEdicao.valid"
          class="btn btn-primary"
          value="Salvar Alterações"
        />
        &nbsp;
        <a routerLink="/consulta-produtos" class="btn btn-light">
          Ir para a consulta
        </a>
      </div>
    </div>
  </form>
</div>
